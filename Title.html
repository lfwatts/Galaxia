<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>

    <script>

    //make ALL game variables here
    let sky;
    let ship;
    let Title;

    
    //variables to store references to keys on the keyboard whose input we want
    let enterKey;

    //variables to store text objects on our game screen
    let txtEnter;
    let txtScore;
    let txtHiScore;
    let txtCreator;

    //variables for our sound objects
    let maintheme;
    let enter;


    //mainGame is the name of this screen

     class mainGame extends Phaser.Scene {
        
        constructor (config)
        {
            super(config);
        }

        preload ()//we load game resources into memory in this function
        {   
            this.load.image("sky","Images/MainBackground.jpg");
            this.load.image("ship","Images/ship.png");
            this.load.image("Title","Images/Title.png");
            //the above function requires 2 parameters:1. the ID of the resource and 2. the relative path to the resource


            //load sound resources
            this.load.audio("theme",["MainScreen.mp3"]);
            this.load.audio("enter",["EnterGame.mp3"]);


        }//end of preload

        create (data)//here we create the resources, assign them to variables and add them into our game world
        {
            sky=this.physics.add.image(400,300,"sky");
            ship=this.physics.add.image(400,500,"ship");
            Title=this.physics.add.image(400,200, "Title");


            enterKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER);
            txtEnter=this.add.text(200,320,"Press the enter button to play",{fontFamily:"Courier New",fontSize:22,color:'white'});
            txtScore=this.add.text(100,0,"Score 0",{fontFamily:"Arial Black", fontSize:22, color:'red'});
            txtHiScore=this.add.text(550,0,"Hi-Score 0",{fontFamily:"Arial Black", fontSize:22, color:'red'});
            txtCreator=this.add.text(100,360,"Created by Logan Watts, Jack Burger, Minura Mol and Joshua Voth",{fontFamily:"Courier New",fontSize:15,color:'green'});

            //add sounds
            maintheme=this.sound.add("theme");
            enter=this.sound.add("enter");

            maintheme.play();


        }//end of create

        update()//game loop, where all decisions and updates are made 
        {

            if(enterKey.isDown == false)
          {
            
          }

           if(enterKey.isDown)
         {
            maintheme.mute = true;
            enter.play();
            game.scene.stop("Title");
            game.scene.start("Choose");
          }


        }//end of update

    }//end of the mainGame screen


    //more screens can be pasted here


    var config = {
        type: Phaser.AUTO,
        parent: 'phaser-example',
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                debug: true
             
                }
        }
    };

    var game = new Phaser.Game(config);
   
    game.scene.add("Title",mainGame);
    game.scene.add("Choose",mainGame);
    game.scene.start("Title");
   
    
    </script>

</body>
</html>




